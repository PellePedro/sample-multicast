{
    "adapters": {
        "dlv-dap": {
            "variables": {
                "port": "${unusedLocalPort}"
            },
                "command": [
                    "$HOME/bin/dlv",
                    "dap",
                    "--listen",
                    "127.0.0.1:${port}"
                ],
            "port": "${port}"
        },
        "vscode-go": {
            "command": [
                "node",
                "${gadgetDir}/vscode-go/out/src/debugAdapter/goDebug.js"
            ],
            "name": "vscode-go"
        }
    },
    "configurations": {
        "Go - Launch": {
            "adapter": "vscode-go",
            "configuration": {
                "request": "launch",
                "program": "${fileDirname}",
                "mode": "debug",
                "trace": true,
                "env": { "GO111MODULE": "on" },
                "dlvToolPath": "${GOPATH}/bin/dlv"
            }
        },
        "run": {
            "adapter": "vscode-go",
            "default": true,
            "configuration": {
                "request": "launch",
                "program": "${workspaceRoot}/pkg/types/hello_test.go",
                "mode": "test",
                "dlvToolPath": "$HOME/bin/dlv",
                "trace": true,
                "env": { "GO111MODULE": "off" }
            }
        },
        "run-dap": {
            "adapter": "dlv-dap",
            "configuration": {
                "request": "launch",
                "env": { "GO111MODULE": "off" },
                "mode": "test", 
                "program": "${workspaceRoot}/pkg/types/hello_test.go",
            }
        },
        "run-exec": {
            "adapter": "vscode-go",
            "configuration": {
                "request": "launch",
                "program": "${workspaceRoot}/hello-world",
                "mode": "exec",
                "dlvToolPath": "$HOME/bin/dlv",
                "trace": true,
                "env": { "GO111MODULE": "off" }
            }
        }
    }
}
